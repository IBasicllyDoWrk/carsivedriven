{% extends "base.html" %}
{% block content %}

<div class="form-container">
  <h2>Login</h2>

  <form method="POST">
    {{ form.hidden_tag() }}

    <div class="form-group">
      <label class="form-label">{{ form.username.label.text }}</label>
      {{ form.username(class="form-input", placeholder="Enter your username") }}
      {% for error in form.username.errors %}
        <div class="form-error">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="form-group">
      <label class="form-label">{{ form.password.label.text }}</label>
      {{ form.password(class="form-input", placeholder="Enter your password") }}
      {% for error in form.password.errors %}
        <div class="form-error">{{ error }}</div>
      {% endfor %}
    </div>

    {{ form.submit(class="submit-btn") }}

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ 'danger' if category == 'error' else category }} alert-dismissible">
            {{ message }}
            <button type="button" class="btn-close" onclick="this.parentElement.style.display='none';">&times;</button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </form>

  <p class="login-link">
    Don't have an account?
    <a href="{{ url_for('register') }}">Register here</a>
  </p>
</div>

{% endblock %}
